<div class="meal-details-container">
  <h2>Meal Details</h2>

  <!-- Meal Details Section -->
  <div *ngIf="meal" class="meal-details">
    <p><strong>ID:</strong> {{ meal.id }}</p>
    <p><strong>Name:</strong> {{ meal.name }}</p>
    <p><strong>Type:</strong> {{ meal.mealtype }}</p>
    <p><strong>Calories:</strong> {{ meal.calories }}</p>
    <p><strong>Protein:</strong> {{ meal.protein }}g</p>
    <p><strong>Carbs:</strong> {{ meal.carbs }}g</p>
    <p><strong>Fats:</strong> {{ meal.fats }}g</p>
    <p>
      <strong>Rating:</strong>
      <span class="rating">
        <i class="fas fa-star"></i> {{ meal.rating }}
      </span>
    </p>
    <p>
      <strong>Liked:</strong>
      <span [ngClass]="meal.liked ? 'liked' : 'not-liked'">
        {{ meal.liked ? 'Yes' : 'No' }}
      </span>
    </p>
    <p>
      <strong>Available:</strong>
      <span [ngClass]="meal.available ? 'available' : 'not-available'">
        {{ meal.available ? 'Yes' : 'No' }}
      </span>
    </p>
  </div>

  <!-- Actions Section -->
  <div class="meal-actions">
    <!-- Buy Meal -->
    <button
      (click)="buyMeal()"
      [disabled]="!meal?.available"
      class="btn-action"
    >
      Buy Meal
    </button>

    <!-- Rate Meal -->
    <!-- <div class="rate-meal">
      <label for="rating"><strong>Rate this Meal:</strong></label>
      <input
        id="rating"
        type="number"
        [(ngModel)]="ratingValue"
        min="1"
        max="5"
        step="0.1"
        class="rating-input"
      />
      <button (click)="rateMeal()" class="btn-action">Rate</button>
    </div> -->

    <!-- Log Nutrition -->
    <!-- <button (click)="logMealNutrition()" class="btn-action">
      Log Nutrition
    </button>
    <p *ngIf="nutritionLogMessage">{{ nutritionLogMessage }}</p>
  </div> -->

  <!-- User Meals Section -->
  <div class="user-meals">
    <h3>Your Liked Meals</h3>
    <ul>
      <li *ngFor="let userMeal of userMeals">
        {{ userMeal.name }} - {{ userMeal.mealtype }} ({{ userMeal.calories }} cal)
      </li>
    </ul>
  </div>

  <!-- User Liked Meals Section -->
  <!-- <div class="liked-meals">
    <h3>Your Liked Meals</h3>
    <ul>
      <li *ngFor="let likedMeal of likedMeals">
        {{ likedMeal.name }} - {{ likedMeal.likesCount }} Likes
      </li>
    </ul>
  </div> -->

  <!-- Back Button -->
  <button [routerLink]="['/meal-list']" class="btn-back">
    <i class="fas fa-arrow-left"></i> Back to List
  </button>
</div>
