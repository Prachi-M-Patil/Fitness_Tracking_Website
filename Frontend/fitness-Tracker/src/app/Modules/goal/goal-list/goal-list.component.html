<div *ngFor="let goal of goals" class="goal-card">
  <!-- Delete Button Positioned in the Top-Right Corner -->
  <button class="delete-btn" (click)="deleteGoal(goal.id!)">
    <i class="fas fa-trash"></i>
  </button>

  <!-- Goal Type Header -->
  <h3>{{ goal.goalType }}</h3>
  
  <!-- Target -->
  <p>Target: <span>{{ goal.target }}</span></p>

  <p>Created at: <span>{{ goal.createdAt }}</span></p>

  <p>deadline: <span>{{ goal.deadline }}</span></p>
  

  
  <!-- Progress -->
  <p>Progress: <span>{{ goal.progress }}%</span></p>
  <div class="progress-bar">
    <span [style.width.%]="goal.progress"></span>
  </div>

  
  
  <!-- Status -->
  <p class="status" [ngClass]="goal.achieved ? 'achieved' : 'in-progress'">
    {{ goal.achieved ? 'Achieved' : 'In Progress' }}
  </p>
</div>


<!-- <h2>Goal List</h2>
<table>
  <thead>
    <tr>
      <th>Goal Type</th>
      <th>Target</th>
      <th>Progress</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let goal of goals">
      <td>{{ goal.goalType }}</td>
      <td>{{ goal.target }}</td>
      <td>{{ goal.progress }}%</td>
      <td>
        <button (click)="updateGoal(goal.id!)">Update</button>
        <button (click)="deleteGoal(goal.id!)">Delete</button>
      </td>
    </tr>
  </tbody>
</table> -->

<!-- <table class="goal-table">
  <thead>
    <tr>
      <th>Goal Type</th>
      <th>Target</th>
      <th>Deadline</th>
      <th>Progress</th>
      <th>Achieved</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let goal of goals">
      <td>{{ goal.goalType }}</td>
      <td>{{ goal.target }}</td>
      <td>
        <input [(ngModel)]="goal.deadline" type="date" />
      </td>
    <td>
      <div class="progress-bar-container" (click)="setProgress($event, goal)">
        <div class="progress-bar" [style.width.%]="goal.progress"></div>
      </div>
      <span>{{ goal.progress }}%</span>
    </td>
      <td>
        <input type="checkbox" [(ngModel)]="goal.achieved" />
      </td>
      <td>
        <button *ngIf="goal.id !== undefined && goal.progress !== undefined && goal.achieved !== undefined" (click)="updateGoal(goal.id, goal.progress, goal.achieved)">
          Save Changes
        </button>
        <button (click)="deleteGoal(goal.id)">Delete</button>
      </td>
    </tr>
  </tbody>
</table> -->
